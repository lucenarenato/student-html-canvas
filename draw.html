<canvas id="canvas" width="690" height="651" style="cursor:crosshair;background:url(https://conceptdraw.com/a1639c3/p1/preview/640/pict--warehouse-floor-plan-shipping,-receiving-and-storage.png--diagram-flowchart-example.png)"></canvas>

<script>

$("#canvas").click(function(e){
     getPosition(e); 
});

var pointSize = 3;

var rand = [ '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f' ];
var color = "";

var x_=[];
var y_=[];

var i = 0;
var b  = true;

var region = 0;
function getPosition(event){
     var rect = canvas.getBoundingClientRect();
     var x = event.clientX - rect.left;
     var y = event.clientY - rect.top;
     alert("X : "+x+" Y:"+y)
     
     
     x_[i]=x;
     y_[i]=y;
     if (i == 1){
     	color = '#'+ ('000000' + Math.floor(Math.random()*16777215).toString(16)).slice(-6);
       for (i_ = y_[0] ; i_ < y_[1] ; i_++){
       
       		for(j_ = x_[0] ; j_ < x_[1] ; j_++){
      			 drawCoordinates(j_,i_,color);
       		}
       }
        if(b == true){
        b = false
        }
      }
if(b == false){
i =0 ;
b = true;
}
else{
i++;}
}

function drawCoordinates(x,y,color){	
  	var ctx = document.getElementById("canvas").getContext("2d");

		
    ctx.fillStyle = color;
  	//ctx.fillStyle = "#ff2626"; // Red color
		
    ctx.beginPath();
    ctx.arc(x, y, pointSize, 0, Math.PI * 2, true);
    ctx.fill();
}

</script>
